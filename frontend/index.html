<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>RouteSafe Navigator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Leaflet CSS -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />

  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app-shell">
    <!-- Header / Hero -->
    <header class="hero-card">
      <div class="hero-icon">
        <span class="hero-badge-text">RS</span>
      </div>
      <div class="hero-text">
        <h1 class="app-title">RouteSafe Navigator</h1>
        <p class="app-subtitle">
          Intelligent low-bridge avoidance for HGVs
        </p>
        <div class="hero-meta">
          <span class="pill pill-muted">v1.1</span>
          <span class="pill pill-outline">by RouteSafe AI</span>
        </div>
      </div>
    </header>

    <!-- Toast / error message -->
    <div id="toast" class="toast" aria-live="polite"></div>

    <!-- Main layout -->
    <main class="layout">
      <!-- LEFT COLUMN – FORM + SUMMARY -->
      <section class="column">
        <!-- Plan route card -->
        <section class="card">
          <h2 class="card-title">Plan route</h2>
          <p class="card-subtitle">Enter UK postcodes and your vehicle height.</p>

          <form id="routeForm" class="form-grid">
            <label class="field">
              <span class="field-label">Start postcode</span>
              <input
                id="startPostcode"
                type="text"
                autocomplete="postal-code"
                placeholder="e.g. LS27 0BN"
                required
              />
            </label>

            <label class="field">
              <span class="field-label">Destination postcode</span>
              <input
                id="destPostcode"
                type="text"
                autocomplete="postal-code"
                placeholder="e.g. M31 4QN"
                required
              />
            </label>

            <label class="field">
              <span class="field-label">Vehicle height (metres)</span>
              <input
                id="vehicleHeight"
                type="number"
                step="0.1"
                min="0"
                placeholder="e.g. 4.5"
                required
              />
            </label>

            <label class="toggle-row">
              <span class="field-label">Avoid low bridges</span>
              <label class="switch">
                <input id="avoidLowBridges" type="checkbox" checked />
                <span class="slider"></span>
              </label>
            </label>

            <button id="generateBtn" type="submit" class="primary-btn">
              <span id="generateBtnText">Generate safe route</span>
              <span id="generateBtnSpinner" class="btn-spinner" hidden></span>
            </button>
          </form>
        </section>

        <!-- Route summary card -->
        <section class="card">
          <h2 class="card-title">Route summary</h2>
          <p class="card-subtitle">
            Distance, ETA and nearest low bridge along your selected route.
          </p>

          <dl class="summary-grid">
            <div>
              <dt>Distance</dt>
              <dd id="distanceValue">–</dd>
            </div>
            <div>
              <dt>Estimated time</dt>
              <dd id="durationValue">–</dd>
            </div>
            <div>
              <dt>Bridge risk</dt>
              <dd id="bridgeRiskValue">–</dd>
            </div>
            <div>
              <dt>Nearest bridge</dt>
              <dd id="nearestBridgeValue">–</dd>
            </div>
          </dl>

          <div class="risk-pill-row">
            <span>Risk level</span>
            <span id="riskBadge" class="risk-pill risk-low">Low</span>
          </div>
        </section>
      </section>

      <!-- RIGHT COLUMN – MAP -->
      <section class="column">
        <section class="card card-map">
          <div class="card-map-header">
            <h2 class="card-title">Map</h2>
            <span class="map-chip">RouteSafe engine · ORS + UK bridge data</span>
          </div>

          <!-- IMPORTANT: map container with explicit height -->
          <div id="map" class="map-container"></div>

          <div class="map-legend">
            <span><span class="legend-swatch legend-main"></span>Main route</span>
            <span><span class="legend-swatch legend-alt"></span>Alternative route</span>
            <span><span class="legend-swatch legend-bridge"></span>Low bridge</span>
          </div>
        </section>
      </section>
    </main>

    <footer class="footer">
      © <span id="year"></span> · RouteSafe Navigator
    </footer>
  </div>

  <!-- Leaflet JS -->
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""
  ></script>

  <!-- App JS -->
  <script src="main.js"></script>
</body>
</html>
