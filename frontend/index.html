<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>RouteSafe Navigator v1.1</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Leaflet CSS -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />

  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app-shell">
    <!-- Header / title bar -->
    <header class="app-header">
      <div class="app-brand">
        <div class="app-icon">
          <!-- If the icon exists this will show, if not it's just a blue circle -->
          <img src="../assets/routesafe-icon.png" alt="RouteSafe icon" onerror="this.style.display='none'" />
        </div>
        <div class="app-title-block">
          <h1 class="app-title">RouteSafe Navigator</h1>
          <p class="app-subtitle">Intelligent low-bridge avoidance for HGVs</p>
        </div>
      </div>

      <div class="app-header-meta">
        <span class="pill pill-version">v1.1</span>
        <span class="pill pill-author">by RouteSafe AI</span>
      </div>
    </header>

    <main class="app-main">
      <!-- Left: form panel -->
      <section class="panel form-panel">
        <h2 class="panel-title">Plan a Safe Route</h2>
        <p class="panel-subtitle">
          Enter UK postcodes and your vehicle height. We’ll check the route against low bridges.
        </p>

        <form id="route-form" class="form-grid">
          <div class="form-field">
            <label for="start">Start postcode<span class="required">*</span></label>
            <input id="start" type="text" autocomplete="postal-code" />
          </div>

          <div class="form-field">
            <label for="destination">Destination postcode<span class="required">*</span></label>
            <input id="destination" type="text" autocomplete="postal-code" />
          </div>

          <div class="form-field">
            <label for="height">Vehicle height (m)<span class="required">*</span></label>
            <input id="height" type="number" step="0.1" min="1" />
          </div>

          <div class="form-field form-toggle">
            <label for="avoid">Avoid low bridges</label>
            <label class="switch">
              <input id="avoid" type="checkbox" checked />
              <span class="slider"></span>
            </label>
          </div>

          <div class="form-actions">
            <button id="submit-btn" type="submit" class="btn-primary">
              Generate Safe Route
            </button>
          </div>
        </form>

        <!-- Message area -->
        <div id="message" class="message">
          <span id="message-text"></span>
        </div>

        <p class="panel-footnote">
          Uses RouteSafe engine · ORS routing · UK bridge data.
        </p>
      </section>

      <!-- Right: summary & map -->
      <section class="panel summary-panel">
        <div class="summary-header">
          <div>
            <h2 class="panel-title">Route summary</h2>
            <p class="panel-subtitle">
              Distance, ETA, and nearest low bridge along your selected route.
            </p>
          </div>
          <div id="risk-chip" class="pill pill-risk low">
            <span id="risk-label">Low risk</span>
          </div>
        </div>

        <div class="summary-grid">
          <div class="summary-item">
            <span class="summary-label">Distance</span>
            <span id="summary-distance" class="summary-value">–</span>
          </div>
          <div class="summary-item">
            <span class="summary-label">Estimated time</span>
            <span id="summary-time" class="summary-value">–</span>
          </div>
          <div class="summary-item">
            <span class="summary-label">Bridge risk</span>
            <span id="summary-bridge-risk" class="summary-value">
              No low-bridge conflicts detected
            </span>
          </div>
          <div class="summary-item">
            <span class="summary-label">Nearest low bridge</span>
            <span id="summary-nearest" class="summary-value">
              None on route
            </span>
          </div>
        </div>

        <div class="map-header">
          <span class="panel-subtitle">Map view</span>
          <span class="map-meta">RouteSafe engine · ORS · UK bridge data</span>
        </div>

        <div id="map" class="map"></div>
      </section>
    </main>

    <footer class="app-footer">
      RouteSafe Navigator · Prototype preview for evaluation only.
    </footer>
  </div>

  <!-- Leaflet JS -->
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""
  ></script>

  <!-- App JS -->
  <script src="main.js"></script>
</body>
</html>